<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Compare Cars - Carbon Rent</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap');

  :root {
    --primary: #931D4F;
    --bg: #0f0f0f;
    --card-bg: #1b1b1b;
    --card-hover: #292929;
    --text: #fff;
  }

  body {
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    background: var(--bg);
    color: var(--text);
    padding: 15px;
  }

  h1 {
    text-align: center;
    color: var(--primary);
    margin-bottom: 20px;
    font-weight: 600;
  }

  /* Car List Scrollable */
  .car-list {
    display: flex;
    overflow-x: auto;
    gap: 12px;
    padding-bottom: 10px;
    scroll-behavior: smooth;
  }

  .car-list::-webkit-scrollbar {
    height: 6px;
  }

  .car-list::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 3px;
  }

  .car-list label {
    flex: 0 0 auto;
    background: var(--card-bg);
    padding: 12px 18px;
    border-radius: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 6px;
    min-width: 120px;
    justify-content: center;
  }

  .car-list label:hover {
    background: var(--card-hover);
    transform: translateY(-2px);
  }

  .car-list input {
    transform: scale(1.2);
    accent-color: var(--primary);
  }

  /* Comparison Table */
  .compare-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    overflow-x: auto;
    display: block;
  }

  .compare-table th, .compare-table td {
    border: 1px solid #333;
    padding: 12px 10px;
    text-align: center;
    white-space: nowrap;
  }

  .compare-table th {
    background: var(--primary);
    color: #fff;
    position: sticky;
    top: 0;
    z-index: 2;
  }

  .car-img {
    width: 100px;
    border-radius: 12px;
    transition: transform 0.3s ease;
  }

  .car-img:hover {
    transform: scale(1.05);
  }

  /* Smooth fade-in for table rows */
  tbody tr {
    opacity: 0;
    transform: translateY(10px);
    animation: fadeInUp 0.4s forwards;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 480px) {
    .car-list label {
      padding: 10px;
      min-width: 100px;
    }
    .car-img {
      width: 80px;
    }
  }
</style>
</head>
<body>

<h1>Avtomobil Müqayisəsi</h1>

<div class="car-list" id="carList"></div>

<table class="compare-table" id="compareTable">
  <thead></thead>
  <tbody></tbody>
</table>

<script>
const cars = {
  "mercedes-s-class-maybach": { name: "Mercedes S Class Maybach", tariffs: [{min:1,max:3,price:230},{min:4,max:7,price:220}] },
  "kia-carnival": { name: "Kia Carnival", tariffs: [{min:1,max:3,price:130},{min:4,max:7,price:120}] },
  "mercedes-viano": { name: "Mercedes Viano", tariffs: [{min:1,max:3,price:140},{min:4,max:7,price:130}] }
  // Add other cars similarly...
};

// Generate checkboxes
const carList = document.getElementById("carList");
for (const key in cars) {
  let lbl = document.createElement("label");
  lbl.innerHTML = `<input type="checkbox" value="${key}"> ${cars[key].name}`;
  carList.appendChild(lbl);
}

// Update Comparison Table
function updateComparison() {
  const selected = [...document.querySelectorAll(".car-list input:checked")].map(c => c.value);
  const tableHead = document.querySelector("#compareTable thead");
  const tableBody = document.querySelector("#compareTable tbody");
  tableHead.innerHTML = "";
  tableBody.innerHTML = "";

  if (!selected.length) return;

  // Header
  let headerRow = "<tr><th>Xüsusiyyət</th>";
  selected.forEach(k => headerRow += `<th>${cars[k].name}</th>`);
  headerRow += "</tr>";
  tableHead.innerHTML = headerRow;

  // Rows
  const rows = {
    "Tariflər": k => cars[k].tariffs.map(t => `${t.min}–${t.max} gün: ${t.price} ₼`).join("<br>")
  };

  for (const r in rows) {
    let tr = `<tr><td>${r}</td>`;
    selected.forEach(k => tr += `<td>${rows[r](k)}</td>`);
    tr += "</tr>";
    tableBody.innerHTML += tr;
  }
}

// Event Listener
document.querySelectorAll(".car-list input").forEach(chk => {
  chk.addEventListener("change", updateComparison);
});
</script>

</body>
</html>
